(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{468:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"emacs-安装google-translate插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emacs-安装google-translate插件"}},[s._v("#")]),s._v(" Emacs 安装Google-translate插件")]),s._v(" "),a("h2",{attrs:{id:"使用github安装插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用github安装插件"}},[s._v("#")]),s._v(" 使用github安装插件")]),s._v(" "),a("p",[s._v("将github中的地址复制到gitee中，这样clone的速度会很快（我这边已经将代码复制了过来，可以直接在我的gitee仓库的地址下进行clone：https://gitee.com/bszscf/google-translate.git）")]),s._v(" "),a("ol",[a("li",[s._v("git clone https://gitee.com/bszscf/google-translate.git ~/.emacs.d/plugins/google-translate")]),s._v(" "),a("li",[s._v("配置Google-translate\n"),a("ol",[a("li",[s._v("在 ~/.emacs.d/lisp 下新建init-google-translate.el文件")]),s._v(" "),a("li",[s._v("配置查询地址、快捷键等（可以参考一下我的配置）")])])])]),s._v(" "),a("div",{staticClass:"language-elisp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-elisp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v("add-to-list")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token quoted-symbol variable symbol"}},[s._v("'load-path")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~/.emacs.d/plugins/google-translate"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("require")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token quoted-symbol variable symbol"}},[s._v("'google-translate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("require")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token quoted-symbol variable symbol"}},[s._v("'google-translate-default-ui")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";;需要将谷歌翻译地址的.com修改成.cn,否则在国内无法进行访问")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("setq")]),s._v(" google-translate-base-url\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://translate.google.cn/translate_a/single"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("setq")]),s._v(" google-translate-listen-url\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://translate.google.cn/translate_tts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("setq")]),s._v(" google-translate--tkk-url\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://translate.google.cn"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";;配置默认语言")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("setq")]),s._v(" google-translate-default-source-language "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"en"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("setq")]),s._v(" google-translate-default-target-language "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zh-CN"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v("setq-default")]),s._v(" google-translate-enable-ido-completion "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("t")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";; 配置快捷键")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v("global-set-key")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\C-ct"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token quoted-symbol variable symbol"}},[s._v("'google-translate-at-point")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v("global-set-key")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\C-cT"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token quoted-symbol variable symbol"}},[s._v("'google-translate-query-translate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v("global-set-key")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v("kbd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\C-cq"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token quoted-symbol variable symbol"}},[s._v("'google-translate-smooth-translate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("provide")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token quoted-symbol variable symbol"}},[s._v("'init-google-translate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("配置init.el文件")])]),s._v(" "),a("div",{staticClass:"language-elisp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-elisp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("require")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token quoted-symbol variable symbol"}},[s._v("'init-google-translate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[s._v("使用谷歌翻译")]),s._v(" "),a("p",[s._v("需要翻译单词时将光标放到该单词的后边，使用快捷键 "),a("code",[s._v("C-c t")]),s._v(" 进行翻译，如果需要翻译句子，可以使用 "),a("code",[s._v("C-c T")]),s._v(" 输入需要翻译的文本")])])]),s._v(" "),a("p",[a("strong",[s._v("需要注意的是：")]),s._v(" 谷歌翻译存在一个bug，就是在翻译句子的时候会出现Args out of range的错误，这个是插件本身存在的一个bug，需要修改部分代码，具体的原因可以看github上插件的issues:args-out-of-range error in google-translate-json-suggestion")]),s._v(" "),a("p",[s._v("代码调整如下：")]),s._v(" "),a("p",[s._v("将google-translate-core.el文件中的google-translate-json-suggestion函数进行替换，替换的代码如下：")]),s._v(" "),a("div",{staticClass:"language-elisp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-elisp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token defun"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("defun")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("google-translate-json-suggestion")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token arguments"}},[a("span",{pre:!0,attrs:{class:"token argument variable"}},[s._v("json")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Retrieve from '),a("span",{pre:!0,attrs:{class:"token argument"}},[s._v("JSON")]),s._v(" (which returns by the\n"),a("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("`google-translate-request'")]),s._v(' function) suggestion. This function\ndoes matter when translating misspelled word. So instead of\ntranslation it is possible to get suggestion."')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v("info")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v("aref")]),s._v(" json "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" info "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v("length")]),s._v(" info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token car"}},[s._v("aref")]),s._v(" info "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("nil")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);